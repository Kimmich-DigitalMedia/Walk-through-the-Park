!function($){$.fn.materialbox=function(){return this.each(function(){function e(){i=!1;var e=n.parent(".material-placeholder"),a=window.innerWidth,l=window.innerHeight,d=n.data("width"),s=n.data("height");n.velocity("stop",!0),$("#materialbox-overlay").velocity("stop",!0),$(".materialbox-caption").velocity("stop",!0),$("#materialbox-overlay").velocity({opacity:0},{duration:o,queue:!1,easing:"easeOutQuad",complete:function(){t=!1,$(this).remove()}}),n.velocity({width:d,height:s,left:0,top:0},{duration:o,queue:!1,easing:"easeOutQuad"}),$(".materialbox-caption").velocity({opacity:0},{duration:o,queue:!1,easing:"easeOutQuad",complete:function(){e.css({height:"",width:"",position:"",top:"",left:""}),n.css({height:"",top:"",left:"",width:"","max-width":"",position:"","z-index":""}),n.removeClass("active"),i=!0,$(this).remove(),c&&c.css("overflow","")}})}if(!$(this).hasClass("initialized")){$(this).addClass("initialized");var t=!1,i=!0,a=275,o=200,n=$(this),l=$("<div></div>").addClass("material-placeholder"),d=0,s=0,c,r;n.wrap(l),n.on("click",function(){var o=n.parent(".material-placeholder"),l=window.innerWidth,d=window.innerHeight,s=n.width(),u=n.height();if(i===!1)return e(),!1;if(t&&i===!0)return e(),!1;i=!1,n.addClass("active"),t=!0,o.css({width:o[0].getBoundingClientRect().width,height:o[0].getBoundingClientRect().height,position:"relative",top:0,left:0}),c=void 0,r=o[0].parentNode;for(var p=0;null!==r&&!$(r).is(document);){var h=$(r);"visible"!==h.css("overflow")&&(h.css("overflow","visible"),c=void 0===c?h:c.add(h)),r=r.parentNode}n.css({position:"absolute","z-index":1e3}).data("width",s).data("height",u);var f=$('<div id="materialbox-overlay"></div>').css({opacity:0}).click(function(){i===!0&&e()});if(n.before(f),f.velocity({opacity:1},{duration:a,queue:!1,easing:"easeOutQuad"}),""!==n.data("caption")){var v=$('<div class="materialbox-caption"></div>');v.text(n.data("caption")),$("body").append(v),v.css({display:"inline"}),v.velocity({opacity:1},{duration:a,queue:!1,easing:"easeOutQuad"})}var m=0,w=s/l,y=u/d,g=0,b=0;w>y?(m=u/s,g=.9*l,b=.9*l*m):(m=s/u,g=.9*d*m,b=.9*d),n.hasClass("responsive-img")?n.velocity({"max-width":g,width:s},{duration:0,queue:!1,complete:function(){n.css({left:0,top:0}).velocity({height:b,width:g,left:$(document).scrollLeft()+l/2-n.parent(".material-placeholder").offset().left-g/2,top:$(document).scrollTop()+d/2-n.parent(".material-placeholder").offset().top-b/2},{duration:a,queue:!1,easing:"easeOutQuad",complete:function(){i=!0}})}}):n.css("left",0).css("top",0).velocity({height:b,width:g,left:$(document).scrollLeft()+l/2-n.parent(".material-placeholder").offset().left-g/2,top:$(document).scrollTop()+d/2-n.parent(".material-placeholder").offset().top-b/2},{duration:a,queue:!1,easing:"easeOutQuad",complete:function(){i=!0}})}),$(window).scroll(function(){t&&e()}),$(document).keyup(function(a){27===a.keyCode&&i===!0&&t&&e()})}})},$(document).ready(function(){$(".materialboxed").materialbox()})}(jQuery);
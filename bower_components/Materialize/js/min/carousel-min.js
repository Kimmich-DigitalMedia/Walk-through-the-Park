!function($){var t={init:function(t){var e={time_constant:200,dist:-100,shift:0,padding:0,full_width:!1};return t=$.extend(e,t),this.each(function(){function e(){"undefined"!=typeof window.ontouchstart&&(I[0].addEventListener("touchstart",d),I[0].addEventListener("touchmove",u),I[0].addEventListener("touchend",c)),I[0].addEventListener("mousedown",d),I[0].addEventListener("mousemove",u),I[0].addEventListener("mouseup",c),I[0].addEventListener("click",l)}function n(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function i(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function a(t){return t>=g?t%g:0>t?a(g+t%g):t}function r(e){var n,i,r,s,o,l,d,u;for(f="number"==typeof e?e:f,p=Math.floor((f+v/2)/v),r=f-p*v,s=0>r?1:-1,o=-s*r*2/v,t.full_width?d="translateX(0)":(d="translateX("+(I[0].clientWidth-item_width)/2+"px) ",d+="translateY("+(I[0].clientHeight-item_width)/2+"px)"),l=h[a(p)],l.style[T]=d+" translateX("+-r/2+"px) translateX("+s*t.shift*o*n+"px) translateZ("+t.dist*o+"px)",l.style.zIndex=0,t.full_width?tweenedOpacity=1:tweenedOpacity=1-.2*o,l.style.opacity=tweenedOpacity,i=g>>1,n=1;i>=n;++n)t.full_width?(zTranslation=t.dist,tweenedOpacity=n===i&&0>r?1-o:1):(zTranslation=t.dist*(2*n+o*s),tweenedOpacity=1-.2*(2*n+o*s)),l=h[a(p+n)],l.style[T]=d+" translateX("+(t.shift+(v*n-r)/2)+"px) translateZ("+zTranslation+"px)",l.style.zIndex=-n,l.style.opacity=tweenedOpacity,t.full_width?(zTranslation=t.dist,tweenedOpacity=n===i&&r>0?1-o:1):(zTranslation=t.dist*(2*n-o*s),tweenedOpacity=1-.2*(2*n-o*s)),l=h[a(p-n)],l.style[T]=d+" translateX("+(-t.shift+(-v*n-r)/2)+"px) translateZ("+zTranslation+"px)",l.style.zIndex=-n,l.style.opacity=tweenedOpacity;l=h[a(p)],l.style[T]=d+" translateX("+-r/2+"px) translateX("+s*t.shift*o+"px) translateZ("+t.dist*o+"px)",l.style.zIndex=0,t.full_width?tweenedOpacity=1:tweenedOpacity=1-.2*o,l.style.opacity=tweenedOpacity}function s(){var t,e,n,i;t=Date.now(),e=t-M,M=t,n=f-D,D=f,i=1e3*n/(1+e),O=.8*i+.2*O}function o(){var e,n;z&&(e=Date.now()-M,n=z*Math.exp(-e/t.time_constant),n>2||-2>n?(r(_-n),requestAnimationFrame(o)):r(_))}function l(e){if(b)return e.preventDefault(),e.stopPropagation(),!1;if(!t.full_width){var n=$(e.target).closest(".carousel-item").index(),i=p%g-n;0>i?Math.abs(i+g)<Math.abs(i)&&(i+=g):i>0&&Math.abs(i-g)<i&&(i-=g),0>i?$(this).trigger("carouselNext",[Math.abs(i)]):i>0&&$(this).trigger("carouselPrev",[i])}}function d(t){w=!0,b=!1,E=!1,m=n(t),x=i(t),O=z=0,D=f,M=Date.now(),clearInterval(X),X=setInterval(s,100)}function u(t){var e,a,s;if(w)if(e=n(t),y=i(t),a=m-e,s=Math.abs(x-y),30>s&&!E)(a>2||-2>a)&&(b=!0,m=e,r(f+a));else{if(b)return t.preventDefault(),t.stopPropagation(),!1;E=!0}return b?(t.preventDefault(),t.stopPropagation(),!1):void 0}function c(t){return w=!1,clearInterval(X),_=f,(O>10||-10>O)&&(z=.9*O,_=f+z),_=Math.round(_/v)*v,z=_-f,M=Date.now(),requestAnimationFrame(o),t.preventDefault(),t.stopPropagation(),!1}var h,f,p,w,v,g,m,x,z,_,O,T,D,M,X,b,E,I=$(this);return I.hasClass("initialized")?!0:(t.full_width&&(t.dist=0,imageHeight=I.find(".carousel-item img").first().load(function(){I.css("height",$(this).height())})),I.addClass("initialized"),w=!1,f=_=0,h=[],item_width=I.find(".carousel-item").first().innerWidth(),v=2*item_width+t.padding,I.find(".carousel-item").each(function(){h.push($(this)[0])}),g=h.length,T="transform",["webkit","Moz","O","ms"].every(function(t){var e=t+"Transform";return"undefined"!=typeof document.body.style[e]?(T=e,!1):!0}),window.onresize=r,e(),r(f),$(this).on("carouselNext",function(t,e){void 0===e&&(e=1),_=f+v*e,f!==_&&(z=_-f,M=Date.now(),requestAnimationFrame(o))}),void $(this).on("carouselPrev",function(t,e){void 0===e&&(e=1),_=f-v*e,f!==_&&(z=_-f,M=Date.now(),requestAnimationFrame(o))}))})},next:function(t){$(this).trigger("carouselNext",[t])},prev:function(t){$(this).trigger("carouselPrev",[t])}};$.fn.carousel=function(e){return t[e]?t[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void $.error("Method "+e+" does not exist on jQuery.carousel"):t.init.apply(this,arguments)}}(jQuery);